.TH DH_INSTALLINIT 1 "" "Debhelper Commands" "Debhelper Commands"
.SH NAME
dh_installinit \- install init scripts into package build directories
.SH SYNOPSIS
.B dh_installinit
.I "[debhelper options] [--init-script=scriptname] [-n] [-r] [-d] [-uparams] -- [params]"
.SH "DESCRIPTION"
dh_installinit is a debhelper program that is responsible for installing
init scripts into package build directories.
.P
It also automatically generates the postinst and postrm and prerm commands
needed to set up the symlinks in /etc/rc*.d/ and to start and stop the init
scripts.
.P
If a file named debian/package.init exists, then it is installed into
etc/init.d/package in the package build directory, with "package" replaced
by the package name.
.SH OPTIONS
.TP
.B debhelper options
See
.BR debhelper (1)
for a list of options common to all debhelper commands.
.TP
.B \-n, \--noscripts
Do not modify postinst/postrm/prerm scripts.
.TP
.B \-r, \--no-restart-on-upgrade
Do not restart daemon on upgrade.
.TP
.B \-d, \--remove-d
Remove trailing "d" from the name of the package, and use the result for the
filename the init script is installed as in etc/init.d/ . This may be useful
for daemons with names ending in "d". (Note: this takes precedence over
the --init-script parameter described below.)
.TP
.B \-uparams, \--update-rcd-params=params
.TP
.B \-\- params
Pass "params" to
.BR update-rc.d (8)
If not specified, "defaults" will be passed to
.BR update-rc.d (8)
.TP
.B \--init-script=scriptname
Use "scriptname" as for the filename the init script is installed as in
etc/init.d/ . This is useful if you need to have an init script with a name
different from the package's name. Note that if you use this parameter,
dh_installinit will look to see if a file in the debian/ directory exists
that looks like "scriptname" or "package.scriptname" and if so will install
it as the init script in preference to the files it normally installs. This
feature is really only useful if you need a single package to install more
than one init script.
.SH ENVIRONMENT
See
.BR debhelper (1)
for a list of environment variables that affect all debhelper commands.
.SH NOTES
Note that this command is not idempotent. "dh_clean -k" should be called
between invocations of this command. Otherwise, it may cause multiple
instances of the same text to be added to maintainer scripts.
.SH "SEE ALSO"
.BR debhelper (1),
.BR update_rc.d (8)
.SH AUTHOR
Joey Hess <joeyh@debian.org>

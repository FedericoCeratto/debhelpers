# (c) 2003 Software in the Public Interest
# Esta traducción ha sido realizada por Rubén Porras Campo <nahoo@inicia.es>
# Está basada en la página de manual original:
# versión 1.4 del CVS de
# /cvs/debian-doc/manpages/english/debhelper/dh_install.pod

=head1 NOMBRE

dh_install - instala ficheros en los directorios de construcción del paquete


=cut

=head1 SINOPSIS

B<dh_install> [B<-X>I<elemento>] [B<--autodest>] [B<--sourcedir=>I<dir>] [S<I<opciones debhelper>>] [S<I<fichero [...] dest>>]

=head1 DESCRIPCIÓN

dh_install es un programa de debhelper que instala ficheros en los directorios
de construcción del paquete. Hay muchas órdenes dh_install* que se encargan de
instalar tipos de ficheros específicos como documentación, ejemplos, páginas del
manual... , debe usarse siempre que sea posible, pues a menudo son más hábiles
en una tarea particular. Entonces, dh_install, es útil para instalar el resto de
las cosas para las cuales no se necesita ninguna habilidad especial. Es un
reemplazo de la antigua orden dh_movefiles.

Los ficheros debian/paquete.install listan los ficheros a instalar en cada
paquete y el directorio donde deben instalarse. El formato es un conjunto de
líneas, cada línea lista un fichero o ficheros a instalar, al final de ésta se
encuentra el directorio donde se deben de instalar. El nombre de los ficheros (o
directorios) a instalar debe ser relativo al directorio actual, mientras que el
directorio de instalación es relativo al directorio de construcción del
paquete. Pueden usarse comodines en los nombres de los ficheros a instalar
(desde v3 en adelante).

Este programa puede usarse de dos modos. Si solamente tiene uno o dos ficheros
que el Makefile del desarrollador principal no instala por usted, puede usar
dh_install para moverlos a su lugar. Por otro lado, quizá tenga un gran paquete
que construya múltiples paquetes binarios. Puede usar el Makefile del
desarrollador principal para instalarlo en debian/tmp, y después usar dh_install
para copiar los directorios y ficheros desde ahí a los directorios de
construcción del paquete correctos.

=head1 OPCIONES

=over 4

=item B<-Xelemento>, B<--exclude=elemento>

Hace que los ficheros que contengan "elemento" en cualquier parte de su nombre
no se instalen.

=item B<--autodest>

Adivina el directorio donde instalar las cosas. Si se especifica no se deben
listar los directorios destino en los ficheros debian/paquete.install o en la
línea de órdenes. En vez de esto, dh_install lo adivinará del siguiente modo:

Eliminará debian/tmp (o el sourcedir si este se proporciona) del principio del
nombre, si está presente, e instala en nombre del directorio del nombre del
fichero. Entonces, si el nombre del fichero es debian/tmp/usr/bin, el
directorios será copiado a debian/paquete/usr/. Si el nombre del fichero es
debian/tmp/etc/passwd, se copiará a debian/paquete/etc/.

Dese cuenta que si lista sólo un nombre en una líneas por si mismo en el fichero
debian/paquete.install, sin ningún destino implícito, entonces dh_install
automáticamente adivinará el destino, incluso si la no se ha usado esta opción.

=item B<--list-missing>

Esta opción hace que dh_install lleve la cuenta de los ficheros que instala, y
al final, compare esa lista con los ficheros en el directorio fuente. Si alguno
de los ficheros (o enlaces simbólicos) en el directorio fuente no se instalaron
en algún lugar, dará un aviso a través de stderr.

Esto puede ser útil si tiene un paquete grande y quiere asegurarse de que no se
olvida de instalar ningún fichero nuevo añadido en una nueva versión del
programa.

Dese cuenta de que no se avisa de los fichero excluidos mediante la opción -X.

=item B<--fail-missing>
  	 
Esta opción es como --list-missing, excepto que si se olvida un fichero, no sólo
se listarán los ficheros olvidados, sino que además se devolverá un código de
salida distinto de cero.

=item B<--sourcedir=dir>

Hace que todos los ficheros fuente se encuentren bajo dir. Si se especifica, es
parecido a anteponer "dir/" a todos los nombres de los ficheros fuente.

Para que dh_install se comporte similar al viejo dh_movefiles, mueva su fichero
paquete.files a paquete.install y llame a dh_install con
"--sourcedir=debian/tmp" añadido a la orden. Esto aproximará el comportamiento
de dh_movefiles, excepto en que copiará los ficheros en vez de moverlos.

=item I<file [...] dest>

Lista los ficheros (o directorios) a instalar y el lugar donde se instalarán.
Los ficheros se instalarán en el primer paquete sobre el que actúe dh_install.

=back


=cut

=head1 EJEMPLO

Suponga que el Makefile del desarrollador principal del paquete instala un
binario, una página del manual, y una biblioteca en los directorios apropiados
de debian/tmp. Quiere poner la biblioteca en el paquete libtal, y el resto en el
paquete tal. Su fichero rules ejecutará "dh_install
--sourcedir=debian/tmp". Haga un debian/tal.install que contenga:

  usr/bin
  usr/share/man/man1

Mientras que debian/libtal.install debe contener:

  usr/libtal*.so.*

Si además quiere un paquete libtal-dev, debian/libtal-dev.install es posible que
contenga:

  usr/include
  usr/lib/libtal*.so
  usr/share/man/man3

=head1 LIMITACIONES

dh_install no puede renombrar ficheros o directorios, sólo puede instalarlos con
los nombres que ya tengan en cualquier lugar en el árbol de construcción del
paquete.

=head1 VÉASE TAMBIÉN

L<debhelper(7)>

Este programa es parte de debhelper.

=head1 AUTOR

Joey Hess <joeyh@debian.org>


=head1 TRADUCTOR

Traducción de Rubén Porras Campo <debian-l10n-spanish@lists.debian.org>


=cut
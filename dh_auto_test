#!/usr/bin/perl -w

=head1 NAME

dh_auto_test - run package test suites after building

=cut

use strict;
use Debian::Debhelper::Dh_Buildsystems;

=head1 SYNOPSIS

B<dh_auto_test> [S<I<debhelper options>>] [S<I<dh_auto options>>] [S<B<--> I<params>>]

=head1 DESCRIPTION

dh_auto_test is a debhelper program that is responsible for the I<test> step of
the L<dh_auto(7)> building process. Typically, this is the point when package
test suite is run to check if the sources were built successfully and/or
binaries provide expected functionality. dh_auto_test will fail if test suite
fails.  However, if there's no test suite, it will exit with zero status
without doing anything.

If dh_auto_test does not meet your needs or does not work, it is safe to
skip/override it entirely and just run the test suite manually.

=head1 NOTES

If the DEB_BUILD_OPTIONS environment variable contains "nocheck", no tests will
be performed.

#DH_AUTO SHARED OPTIONS#

=head1 OPTIONS

=over 4

=item B<--> I<params>

Pass "params" to the program that is run. These can be used to supplement
or override the any standard parameters that dh_auto_test passes.

=back

=head1 SUPPORTED BUILD SYSTEMS

#SUPPORTED BUILD SYSTEMS INTRO#
#SUPPORTED BUILD SYSTEMS LIST#

=cut

if (defined $ENV{DEB_BUILD_OPTIONS} && $ENV{DEB_BUILD_OPTIONS} =~ /nocheck/) {
	exit 0;
}

buildsystems_init();
buildsystems_do();

=head1 SEE ALSO

L<dh_auto(7)>

L<debhelper(7)>

This program is a part of debhelper and its dh_auto package source building
suite.

=head1 AUTHORS

 Joey Hess <joeyh@debian.org>
 Modestas Vainius <modestas@vainius.eu>

=cut
